const fs = require('fs');
const path = require('path');

console.log('üîç SEARCHING FOR IMPORT SOLUTIONS');
console.log('==================================');

// Check the specific path you mentioned
const prosearchPath = '/Users/adamrutstein/Downloads/ProSearch Intelligence';

console.log('1Ô∏è‚É£ Checking ProSearch Intelligence folder...');
try {
  if (fs.existsSync(prosearchPath)) {
    console.log('‚úÖ Found ProSearch Intelligence folder!');
    
    const items = fs.readdirSync(prosearchPath);
    console.log(`üìÅ Contains ${items.length} items:`);
    
    items.forEach(item => {
      const itemPath = path.join(prosearchPath, item);
      const stats = fs.statSync(itemPath);
      
      if (stats.isDirectory()) {
        console.log(`   üìÅ ${item}/`);
        
        // Check for import solutions
        if (item.toLowerCase().includes('garage') || 
            item.toLowerCase().includes('import') || 
            item.toLowerCase().includes('solution')) {
          console.log(`      üéØ POTENTIAL IMPORT SOLUTION!`);
          
          try {
            const subItems = fs.readdirSync(itemPath);
            console.log(`      üìã Contains:`);
            subItems.slice(0, 15).forEach(subItem => {
              console.log(`         - ${subItem}`);
            });
          } catch (e) {
            console.log(`      ‚ö†Ô∏è  Cannot read: ${e.message}`);
          }
        }
      } else {
        const sizeKB = Math.round(stats.size / 1024);
        console.log(`   üìÑ ${item} (${sizeKB}KB)`);
      }
    });
  } else {
    console.log('‚ùå ProSearch Intelligence folder not found');
  }
} catch (error) {
  console.log('‚ùå Error accessing ProSearch folder:', error.message);
}

console.log('');
console.log('2Ô∏è‚É£ Searching Downloads for import-related folders...');

try {
  const downloadsPath = '/Users/adamrutstein/Downloads';
  if (fs.existsSync(downloadsPath)) {
    const downloads = fs.readdirSync(downloadsPath);
    
    const importRelated = downloads.filter(item => 
      item.toLowerCase().includes('garage') ||
      item.toLowerCase().includes('import') ||
      item.toLowerCase().includes('solution') ||
      item.toLowerCase().includes('prosearch') ||
      item.toLowerCase().includes('pro')
    );
    
    if (importRelated.length > 0) {
      console.log('üéØ Found import-related items:');
      importRelated.forEach(item => {
        const itemPath = path.join(downloadsPath, item);
        const stats = fs.statSync(itemPath);
        
        if (stats.isDirectory()) {
          console.log(`   üìÅ ${item}/`);
          
          // Check contents
          try {
            const contents = fs.readdirSync(itemPath);
            if (contents.length > 0) {
              console.log(`      üìã Contains ${contents.length} items:`);
              contents.slice(0, 10).forEach(subItem => {
                console.log(`         - ${subItem}`);
              });
            }
          } catch (e) {
            console.log(`      ‚ö†Ô∏è  Cannot read contents`);
          }
        } else {
          const sizeMB = Math.round(stats.size / 1024 / 1024);
          console.log(`   üìÑ ${item} (${sizeMB}MB)`);
        }
      });
    } else {
      console.log('‚ùå No import-related folders found in Downloads');
    }
  }
} catch (error) {
  console.log('‚ùå Error searching Downloads:', error.message);
}

console.log('');
console.log('‚úÖ Search complete!');
